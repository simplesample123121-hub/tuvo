(()=>{var e={};e.id=97,e.ids=[97],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},84770:e=>{"use strict";e.exports=require("crypto")},35240:e=>{"use strict";e.exports=require("https")},40274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>p,serverHooks:()=>g,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{POST:()=>c});var a=r(52412),n=r(14293),o=r(94147),i=r(77856),u=r(77420);async function c(e,t){try{let{txnid:e}=await t.params,r=(await (0,u.ZV)(e)).status,s=`${process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000"}/payment/${r}/${e}`;return i.NextResponse.redirect(s)}catch(s){console.error("Payment verification error:",s);let e=await t.params,r=`${process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000"}/payment/failure/${e.txnid}`;return i.NextResponse.redirect(r)}}let p=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/payment/verify/[txnid]/route",pathname:"/api/payment/verify/[txnid]",filename:"route",bundlePath:"app/api/payment/verify/[txnid]/route"},resolvedPagePath:"C:\\Users\\Harry\\Documents\\Ticket Booking Platform cursor\\Ticket Booking Platform cursor\\app\\api\\payment\\verify\\[txnid]\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:g}=p;function v(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},35303:()=>{},77420:(e,t,r)=>{"use strict";r.d(t,{KH:()=>p,ZV:()=>l});var s=r(87774),a=r.n(s),n=r(84770),o=r.n(n);let i={key:"YtZVuv",salt:"MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDOs/fD5n8GLaXcaDgj53z0JdFe0sclSXemO3fu7+gJAei5r6oTk0EOnVW7Sh61YYV1J7nzaM5g16ZLVIfGH29LDjN6egOnpgCJ7J8qXv4zyHi88tE1k9soKynw7Ff2r/J6EbyFNWR6bWULF9qNu31PxCNjuuTbhmmiE1u1eF/hRlf5NwMn3GPyI8lfUSD/wMAMY8iJuc9Ihj4MD3689zJywMT4MWScjvlIQrJRFFlzTGzyLc1egnhuAqLNebtxpmxowSBCjDw0YRgZTa1PrbbsEAGh6PGb6u3DS82ICCSUhgukOCX+fv3CT8NJ/iccaviAfFqCMUwNIh/h21pBmJm/AgMBAAECggEAZVjeIYIxQ9E74o6DAC+vF3I3btu/4utbq/i6fD/KsCfseKbFqCVqH4VLFLJpzhsLuX6J8OuxTNBPa939WEnvYoiK+wE6K4f7+aQ4AiljT/Z6JIKVy0Q8jzxiqwrmskBgjjOGEHY2VsSuZzsB4L5N2b9cbrijH3OO9XWyYI6tzCC0yU1vV+K9lYZ5ecRGkG50wcgjqOOTUINz1aynbe2rN4Nb+of+aWBZ4jOR1IoSy0XUz0c6SUFsldYxbMOAq9EvqL8gQhgy6D2I+Pdjc2g8eHxdoudFBxQoXhd1YjRW1AvteL43kPvTakvwz8HqwrtJYJX4vDspjk+cRRtMRE+zMQKBgQDoQ4njSoxcdM9vTvgS5/55Z97EinGFtEeBJYkShHqU477v+jGS4155ulEpzRHnG1oZ4ABuFZWqN8qYDFl43T0Vy9vk4FPtNHsz7CO5Vsp4eW8uIMqR6QDJc2ioRN4Rox43/DiVPU6ujxhbbUfCoeIGOrMcg9Ys+gy0076DNxUQaQKBgQDj07Ws/tANq3USYkPwrm+8zDQXqMSgAM/L1FUxy3meZtNXXwUweoYXqW8A5wXWgCBngVS5YOhce34mBoCTh1rZychYEA3F+0ga/A+ik37evmcQtjoHBk9+N2YBgG6SsmnQeuZ1lgFLKO2nxmIplQ5sOQdA/M2fiW4yUTSL5ocT5wKBgHwY2eufQS+FGfAW+WTgn46ueM/6SH1vvWS7cWl7byNuK+58d1BMO4Y+jm8PKqmYa6O3k4M99SFlfdGPh56UVrb2nR7E3RK4H7u2R8AXJ0cHWugCjTk4jTsVdq2xXhV+Wf7/vBvBDfEmc5Ul5lmPtPwvENQDfMO7Nl7HY9sn6xFBAoGAYWqqWXGPlvjEk3rPIEAGaU1LzP4OLXiLYdXGJAekVlYTcl2gA22wnreFTnZ6aZDZykhj6OyGDt2DQFExc2PCNjPw5a7fpNNgrqEvMk4tRqNVwLCauVw6a3bWuDepkDKXylxy5L6iiPfUPxQ17x/cTexIrMIsTlZed0d/135YLesCgYB7b/QbfNjzC3ffVWGJBHhXuxxOY12AXbJ6sNQYRzXkaWEsboi6OSaNtoT5bQPPui8WcaEHTHvp90cK7SwB0ywhUIowV+0Xte9SHxYam2T/zuGgAmSuOac+JbUAFekpbv/zNyOosdOIqw4++sKTeIv2S3QtEPCL62OqdTagoPgBZg==",environment:"PROD"},u=new(a())({key:i.key,salt:i.salt},i.environment),c=()=>"PAYU_MONEY_"+Math.floor(8888888*Math.random()),p=async({email:e,firstname:t,mobile:r,txnid:s=c(),amount:a,productinfo:n,udf1:p="",udf2:l="",udf3:d="",udf4:g="",udf5:v=""})=>{let y=`${i.key}|${s}|${a}|${n}|${t}|${e}|${p}|${l}|${d}|${g}|${v}||||||${i.salt}`;console.log("Hash String:",y);let m=JSON.stringify({v1:o().createHash("sha512").update(y).digest("hex"),v2:o().createHash("sha512").update(y).digest("hex")});return console.log("Calculated Hash:",m),await u.paymentInitiate({isAmountFilledByCustomer:!1,txnid:s,amount:a,currency:"USD",productinfo:n,firstname:t,email:e,phone:r,surl:`${process.env.NEXT_PUBLIC_BASE_URL||"https://www.tuvo.in"}/payment/success/${s}`,furl:`${process.env.NEXT_PUBLIC_BASE_URL||"https://www.tuvo.in"}/payment/failure/${s}`,hash:m})},l=async e=>(await u.verifyPayment(e)).transaction_details[e]}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[267,980],()=>r(40274));module.exports=s})();