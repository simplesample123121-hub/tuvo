(()=>{var e={};e.id=206,e.ids=[206],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},20064:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(3003),s=a(14293),i=a(66550),n=a.n(i),l=a(86979),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["admin",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,10524)),"C:\\Users\\Harry\\Documents\\Ticket Booking Platform cursor\\Ticket Booking Platform cursor\\app\\admin\\events\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58213)),"C:\\Users\\Harry\\Documents\\Ticket Booking Platform cursor\\Ticket Booking Platform cursor\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,66877)),"C:\\Users\\Harry\\Documents\\Ticket Booking Platform cursor\\Ticket Booking Platform cursor\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,52075,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Harry\\Documents\\Ticket Booking Platform cursor\\Ticket Booking Platform cursor\\app\\admin\\events\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/events/page",pathname:"/admin/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},80417:(e,t,a)=>{Promise.resolve().then(a.bind(a,16751))},16751:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ek});var r=a(68819),s=a(17266),i=a(90772),n=a(54432),l=a(45842),o=a(33071),d=a(567),c=a(34474),u=a(87673),m=a(82561),p=a(48051),h=a(93095),g=a(88957),x=a(52067),f=a(825),v=a(10441),j=a(83078),y=a(9815),b=a(45226),w=a(80699),k=a(58260),N=a(35664),_=a(34214),C="Dialog",[D,F]=(0,h.b)(C),[E,A]=D(C),P=e=>{let{__scopeDialog:t,children:a,open:i,defaultOpen:n,onOpenChange:l,modal:o=!0}=e,d=s.useRef(null),c=s.useRef(null),[u,m]=(0,x.T)({prop:i,defaultProp:n??!1,onChange:l,caller:C});return(0,r.jsx)(E,{scope:t,triggerRef:d,contentRef:c,contentId:(0,g.M)(),titleId:(0,g.M)(),descriptionId:(0,g.M)(),open:u,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),modal:o,children:a})};P.displayName=C;var q="DialogTrigger",I=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=A(q,a),n=(0,p.e)(t,i.triggerRef);return(0,r.jsx)(b.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K(i.open),...s,ref:n,onClick:(0,m.M)(e.onClick,i.onOpenToggle)})});I.displayName=q;var S="DialogPortal",[R,Z]=D(S,{forceMount:void 0}),T=e=>{let{__scopeDialog:t,forceMount:a,children:i,container:n}=e,l=A(S,t);return(0,r.jsx)(R,{scope:t,forceMount:a,children:s.Children.map(i,e=>(0,r.jsx)(y.z,{present:a||l.open,children:(0,r.jsx)(j.h,{asChild:!0,container:n,children:e})}))})};T.displayName=S;var M="DialogOverlay",Q=s.forwardRef((e,t)=>{let a=Z(M,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,n=A(M,e.__scopeDialog);return n.modal?(0,r.jsx)(y.z,{present:s||n.open,children:(0,r.jsx)(B,{...i,ref:t})}):null});Q.displayName=M;var V=(0,_.Z8)("DialogOverlay.RemoveScroll"),B=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=A(M,a);return(0,r.jsx)(k.Z,{as:V,allowPinchZoom:!0,shards:[i.contentRef],children:(0,r.jsx)(b.WV.div,{"data-state":K(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),O="DialogContent",U=s.forwardRef((e,t)=>{let a=Z(O,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,n=A(O,e.__scopeDialog);return(0,r.jsx)(y.z,{present:s||n.open,children:n.modal?(0,r.jsx)(z,{...i,ref:t}):(0,r.jsx)($,{...i,ref:t})})});U.displayName=O;var z=s.forwardRef((e,t)=>{let a=A(O,e.__scopeDialog),i=s.useRef(null),n=(0,p.e)(t,a.contentRef,i);return s.useEffect(()=>{let e=i.current;if(e)return(0,N.Ry)(e)},[]),(0,r.jsx)(L,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,m.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,m.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,m.M)(e.onFocusOutside,e=>e.preventDefault())})}),$=s.forwardRef((e,t)=>{let a=A(O,e.__scopeDialog),i=s.useRef(!1),n=s.useRef(!1);return(0,r.jsx)(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||a.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),L=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:i,onOpenAutoFocus:n,onCloseAutoFocus:l,...o}=e,d=A(O,a),c=s.useRef(null),u=(0,p.e)(t,c);return(0,w.EW)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,r.jsx)(f.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":K(d.open),...o,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(er,{titleId:d.titleId}),(0,r.jsx)(es,{contentRef:c,descriptionId:d.descriptionId})]})]})}),H="DialogTitle",W=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=A(H,a);return(0,r.jsx)(b.WV.h2,{id:i.titleId,...s,ref:t})});W.displayName=H;var J="DialogDescription",G=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=A(J,a);return(0,r.jsx)(b.WV.p,{id:i.descriptionId,...s,ref:t})});G.displayName=J;var Y="DialogClose",X=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=A(Y,a);return(0,r.jsx)(b.WV.button,{type:"button",...s,ref:t,onClick:(0,m.M)(e.onClick,()=>i.onOpenChange(!1))})});function K(e){return e?"open":"closed"}X.displayName=Y;var ee="DialogTitleWarning",[et,ea]=(0,h.k)(ee,{contentName:O,titleName:H,docsSlug:"dialog"}),er=({titleId:e})=>{let t=ea(ee),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&!document.getElementById(e)&&console.error(a)},[a,e]),null},es=({contentRef:e,descriptionId:t})=>{let a=ea("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null},ei=a(94019),en=a(77863);let el=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(Q,{ref:a,className:(0,en.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));el.displayName=Q.displayName;let eo=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(T,{children:[(0,r.jsx)(el,{}),(0,r.jsxs)(U,{ref:s,className:(0,en.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(X,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(ei.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));eo.displayName=U.displayName;let ed=({className:e,...t})=>(0,r.jsx)("div",{className:(0,en.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ed.displayName="DialogHeader";let ec=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(W,{ref:a,className:(0,en.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));ec.displayName=W.displayName;let eu=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(G,{ref:a,className:(0,en.cn)("text-sm text-muted-foreground",e),...t}));eu.displayName=G.displayName;var em=a(43273),ep=a(83855),eh=a(88307),eg=a(41137),ex=a(70003),ef=a(98091),ev=a(37358),ej=a(77636),ey=a(24061),eb=a(71821),ew=a(78899);function ek(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!0),[p,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[j,y]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),[k,N]=(0,s.useState)(""),[_,C]=(0,s.useState)({name:"",description:"",date:"",time:"",venue:"",category:"",price:"",ticket_count:"",available_tickets:"",status:"upcoming",image_url:"",tags:"",featured:!1,location:JSON.stringify({address:"",city:"",state:"",country:"",coordinates:{latitude:0,longitude:0}})}),D=async a=>{a.preventDefault();try{let a=await ew.v.create({..._,price:parseFloat(_.price),ticket_count:parseInt(_.ticket_count),available_tickets:parseInt(_.available_tickets),tags:_.tags.split(",").map(e=>e.trim()).filter(e=>e),created_by:"admin",status:_.status,location:_.location});a&&(t([...e,a]),y(!1),q())}catch(e){console.error("Error creating event:",e),N("Failed to create event")}},F=async a=>{if(a.preventDefault(),b)try{let a=await ew.v.update(b.$id,{..._,price:parseFloat(_.price),ticket_count:parseInt(_.ticket_count),available_tickets:parseInt(_.available_tickets),tags:_.tags.split(",").map(e=>e.trim()).filter(e=>e),status:_.status,location:_.location});a&&(t(e.map(e=>e.$id===b.$id?a:e)),w(null),q())}catch(e){console.error("Error updating event:",e),N("Failed to update event")}},E=async a=>{if(confirm("Are you sure you want to delete this event?"))try{await ew.v.delete(a)&&t(e.filter(e=>e.$id!==a))}catch(e){console.error("Error deleting event:",e),N("Failed to delete event")}},A=e=>{w(e),C({name:e.name,description:e.description,date:e.date,time:e.time,venue:e.venue,category:e.category,price:e.price.toString(),ticket_count:e.ticket_count.toString(),available_tickets:e.available_tickets.toString(),status:e.status,image_url:e.image_url,tags:e.tags.join(", "),featured:e.featured,location:JSON.stringify(e.location)})},q=()=>{C({name:"",description:"",date:"",time:"",venue:"",category:"",price:"",ticket_count:"",available_tickets:"",status:"upcoming",image_url:"",tags:"",featured:!1,location:JSON.stringify({address:"",city:"",state:"",country:"",coordinates:{latitude:0,longitude:0}})})},S=e.filter(e=>{let t=e.name.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase()),a="all"===g||!g||e.category===g,r="all"===f||!f||e.status===f;return t&&a&&r}),R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Events Management"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Create and manage events"})]}),(0,r.jsxs)(P,{open:j,onOpenChange:y,children:[(0,r.jsx)(I,{asChild:!0,children:(0,r.jsxs)(i.z,{children:[(0,r.jsx)(ep.Z,{className:"w-4 h-4 mr-2"}),"Create Event"]})}),(0,r.jsxs)(eo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(ed,{children:[(0,r.jsx)(ec,{children:"Create New Event"}),(0,r.jsx)(eu,{children:"Fill in the details to create a new event"})]}),(0,r.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"name",children:"Event Name *"}),(0,r.jsx)(n.I,{id:"name",required:!0,value:_.name,onChange:e=>C({..._,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"category",children:"Category *"}),(0,r.jsxs)(c.Ph,{value:_.category,onValueChange:e=>C({..._,category:e}),children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"Select category"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"Technology",children:"Technology"}),(0,r.jsx)(c.Ql,{value:"Music",children:"Music"}),(0,r.jsx)(c.Ql,{value:"Sports",children:"Sports"}),(0,r.jsx)(c.Ql,{value:"Business",children:"Business"}),(0,r.jsx)(c.Ql,{value:"Education",children:"Education"}),(0,r.jsx)(c.Ql,{value:"Entertainment",children:"Entertainment"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"date",children:"Date *"}),(0,r.jsx)(n.I,{id:"date",type:"date",required:!0,value:_.date,onChange:e=>C({..._,date:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"time",children:"Time *"}),(0,r.jsx)(n.I,{id:"time",type:"time",required:!0,value:_.time,onChange:e=>C({..._,time:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"venue",children:"Venue *"}),(0,r.jsx)(n.I,{id:"venue",required:!0,value:_.venue,onChange:e=>C({..._,venue:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"price",children:"Price *"}),(0,r.jsx)(n.I,{id:"price",type:"number",min:"0",step:"0.01",required:!0,value:_.price,onChange:e=>C({..._,price:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"ticket_count",children:"Total Tickets *"}),(0,r.jsx)(n.I,{id:"ticket_count",type:"number",min:"1",required:!0,value:_.ticket_count,onChange:e=>C({..._,ticket_count:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"available_tickets",children:"Available Tickets *"}),(0,r.jsx)(n.I,{id:"available_tickets",type:"number",min:"0",required:!0,value:_.available_tickets,onChange:e=>C({..._,available_tickets:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"status",children:"Status"}),(0,r.jsxs)(c.Ph,{value:_.status,onValueChange:e=>C({..._,status:e}),children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"upcoming",children:"Upcoming"}),(0,r.jsx)(c.Ql,{value:"ongoing",children:"Ongoing"}),(0,r.jsx)(c.Ql,{value:"completed",children:"Completed"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"description",children:"Description *"}),(0,r.jsx)(u.g,{id:"description",required:!0,value:_.description,onChange:e=>C({..._,description:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"image_url",children:"Image URL"}),(0,r.jsx)(n.I,{id:"image_url",type:"url",value:_.image_url,onChange:e=>C({..._,image_url:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,r.jsx)(n.I,{id:"tags",value:_.tags,onChange:e=>C({..._,tags:e.target.value}),placeholder:"technology, conference, innovation"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"featured",checked:_.featured,onChange:e=>C({..._,featured:e.target.checked})}),(0,r.jsx)(l._,{htmlFor:"featured",children:"Featured Event"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,r.jsx)(i.z,{type:"submit",children:"Create Event"})]})]})]})]})]}),(0,r.jsx)(o.Zb,{children:(0,r.jsx)(o.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"search",children:"Search"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(eh.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(n.I,{id:"search",placeholder:"Search events...",value:p,onChange:e=>h(e.target.value),className:"pl-10"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"category-filter",children:"Category"}),(0,r.jsxs)(c.Ph,{value:g,onValueChange:x,children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"All categories"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All categories"}),(0,r.jsx)(c.Ql,{value:"Technology",children:"Technology"}),(0,r.jsx)(c.Ql,{value:"Music",children:"Music"}),(0,r.jsx)(c.Ql,{value:"Sports",children:"Sports"}),(0,r.jsx)(c.Ql,{value:"Business",children:"Business"}),(0,r.jsx)(c.Ql,{value:"Education",children:"Education"}),(0,r.jsx)(c.Ql,{value:"Entertainment",children:"Entertainment"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"status-filter",children:"Status"}),(0,r.jsxs)(c.Ph,{value:f,onValueChange:v,children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"All statuses"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All statuses"}),(0,r.jsx)(c.Ql,{value:"upcoming",children:"Upcoming"}),(0,r.jsx)(c.Ql,{value:"ongoing",children:"Ongoing"}),(0,r.jsx)(c.Ql,{value:"completed",children:"Completed"})]})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>{h(""),x("all"),v("all")},children:[(0,r.jsx)(eg.Z,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})})}),k&&(0,r.jsx)(em.bZ,{variant:"destructive",children:(0,r.jsx)(em.X,{children:k})}),a?(0,r.jsx)("div",{className:"text-center py-8",children:"Loading events..."}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>(0,r.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,r.jsx)(o.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.ll,{className:"text-lg",children:e.name}),(0,r.jsx)(o.SZ,{children:e.category})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>A(e),children:(0,r.jsx)(ex.Z,{className:"w-4 h-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>E(e.$id),children:(0,r.jsx)(ef.Z,{className:"w-4 h-4"})})]})]})}),(0,r.jsxs)(o.aY,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,r.jsx)(ev.Z,{className:"w-4 h-4 mr-2"}),R(e.date)," at ",e.time]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,r.jsx)(ej.Z,{className:"w-4 h-4 mr-2"}),e.venue]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,r.jsx)(ey.Z,{className:"w-4 h-4 mr-2"}),e.available_tickets," tickets left"]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,r.jsx)(eb.Z,{className:"w-4 h-4 mr-2"}),"$",e.price]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(d.C,{variant:"upcoming"===e.status?"default":"ongoing"===e.status?"secondary":"outline",children:e.status}),e.featured&&(0,r.jsx)(d.C,{variant:"secondary",children:"Featured"})]})]})]},e.$id))}),(0,r.jsx)(P,{open:!!b,onOpenChange:()=>w(null),children:(0,r.jsxs)(eo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(ed,{children:[(0,r.jsx)(ec,{children:"Edit Event"}),(0,r.jsx)(eu,{children:"Update the event details"})]}),(0,r.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-name",children:"Event Name *"}),(0,r.jsx)(n.I,{id:"edit-name",required:!0,value:_.name,onChange:e=>C({..._,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-category",children:"Category *"}),(0,r.jsxs)(c.Ph,{value:_.category,onValueChange:e=>C({..._,category:e}),children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"Select category"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"Technology",children:"Technology"}),(0,r.jsx)(c.Ql,{value:"Music",children:"Music"}),(0,r.jsx)(c.Ql,{value:"Sports",children:"Sports"}),(0,r.jsx)(c.Ql,{value:"Business",children:"Business"}),(0,r.jsx)(c.Ql,{value:"Education",children:"Education"}),(0,r.jsx)(c.Ql,{value:"Entertainment",children:"Entertainment"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-date",children:"Date *"}),(0,r.jsx)(n.I,{id:"edit-date",type:"date",required:!0,value:_.date,onChange:e=>C({..._,date:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-time",children:"Time *"}),(0,r.jsx)(n.I,{id:"edit-time",type:"time",required:!0,value:_.time,onChange:e=>C({..._,time:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-venue",children:"Venue *"}),(0,r.jsx)(n.I,{id:"edit-venue",required:!0,value:_.venue,onChange:e=>C({..._,venue:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-price",children:"Price *"}),(0,r.jsx)(n.I,{id:"edit-price",type:"number",min:"0",step:"0.01",required:!0,value:_.price,onChange:e=>C({..._,price:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-ticket-count",children:"Total Tickets *"}),(0,r.jsx)(n.I,{id:"edit-ticket-count",type:"number",min:"1",required:!0,value:_.ticket_count,onChange:e=>C({..._,ticket_count:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-available-tickets",children:"Available Tickets *"}),(0,r.jsx)(n.I,{id:"edit-available-tickets",type:"number",min:"0",required:!0,value:_.available_tickets,onChange:e=>C({..._,available_tickets:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-status",children:"Status"}),(0,r.jsxs)(c.Ph,{value:_.status,onValueChange:e=>C({..._,status:e}),children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"upcoming",children:"Upcoming"}),(0,r.jsx)(c.Ql,{value:"ongoing",children:"Ongoing"}),(0,r.jsx)(c.Ql,{value:"completed",children:"Completed"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-description",children:"Description *"}),(0,r.jsx)(u.g,{id:"edit-description",required:!0,value:_.description,onChange:e=>C({..._,description:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-image-url",children:"Image URL"}),(0,r.jsx)(n.I,{id:"edit-image-url",type:"url",value:_.image_url,onChange:e=>C({..._,image_url:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l._,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),(0,r.jsx)(n.I,{id:"edit-tags",value:_.tags,onChange:e=>C({..._,tags:e.target.value}),placeholder:"technology, conference, innovation"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"edit-featured",checked:_.featured,onChange:e=>C({..._,featured:e.target.checked})}),(0,r.jsx)(l._,{htmlFor:"edit-featured",children:"Featured Event"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>w(null),children:"Cancel"}),(0,r.jsx)(i.z,{type:"submit",children:"Update Event"})]})]})]})})]})}},43273:(e,t,a)=>{"use strict";a.d(t,{X:()=>d,bZ:()=>o});var r=a(68819),s=a(17266),i=a(79360),n=a(77863);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef(({className:e,variant:t,...a},s)=>(0,r.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(l({variant:t}),e),...a}));o.displayName="Alert",s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},567:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var r=a(68819);a(17266);var s=a(79360),i=a(77863);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:t}),e),...a})}},54432:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var r=a(68819),s=a(17266),i=a(77863);let n=s.forwardRef(({className:e,type:t,...a},s)=>(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));n.displayName="Input"},45842:(e,t,a)=>{"use strict";a.d(t,{_:()=>c});var r=a(68819),s=a(17266),i=a(45226),n=s.forwardRef((e,t)=>(0,r.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=a(79360),o=a(77863);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n,{ref:a,className:(0,o.cn)(d(),e),...t}));c.displayName=n.displayName},34474:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>g,Ph:()=>c,Ql:()=>x,i4:()=>m,ki:()=>u});var r=a(68819),s=a(17266),i=a(18792),n=a(941),l=a(96633),o=a(32933),d=a(77863);let c=i.fC;i.ZA;let u=i.B4,m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(i.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,(0,r.jsx)(i.JO,{asChild:!0,children:(0,r.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.xz.displayName;let p=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})}));p.displayName=i.u_.displayName;let h=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let g=s.forwardRef(({className:e,children:t,position:a="popper",...s},n)=>(0,r.jsx)(i.h_,{children:(0,r.jsxs)(i.VY,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[(0,r.jsx)(p,{}),(0,r.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(h,{})]})}));g.displayName=i.VY.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let x=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(i.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(i.eT,{children:t})]}));x.displayName=i.ck.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},87673:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var r=a(68819),s=a(17266),i=a(77863);let n=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));n.displayName="Textarea"},78899:(e,t,a)=>{"use strict";a.d(t,{v:()=>n});var r=a(20322),s=a(87686);let i=[{$id:"1",name:"Tech Conference 2024",description:"Join us for the biggest tech conference of the year featuring industry leaders and cutting-edge innovations.",date:"2024-03-15",time:"09:00",venue:"Convention Center",category:"Technology",price:299,ticket_count:500,available_tickets:150,status:"upcoming",image_url:"/images/tech-conference.jpg",created_by:"admin",tags:["technology","conference","innovation"],featured:!0,location:JSON.stringify({address:"123 Tech Street",city:"San Francisco",state:"CA",country:"USA",coordinates:{latitude:37.7749,longitude:-122.4194}}),created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{$id:"2",name:"Summer Music Festival",description:"A three-day music festival featuring top artists from around the world.",date:"2024-07-20",time:"16:00",venue:"Central Park",category:"Music",price:199,ticket_count:1e3,available_tickets:200,status:"upcoming",image_url:"/images/music-festival.jpg",created_by:"admin",tags:["music","festival","summer"],featured:!0,location:JSON.stringify({address:"Central Park",city:"New York",state:"NY",country:"USA",coordinates:{latitude:40.7829,longitude:-73.9654}}),created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}],n={async getAll(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events)).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),i}},async getById(e){try{return await r.UA.getDocument(r.Vb,r.sh.events,e)}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),i.find(t=>t.$id===e)||null}},async create(e){try{return await r.UA.createDocument(r.Vb,r.sh.events,s.ID.unique(),e)}catch(e){return console.error("Error creating event:",e),null}},async update(e,t){try{return await r.UA.updateDocument(r.Vb,r.sh.events,e,t)}catch(e){return console.error("Error updating event:",e),null}},async delete(e){try{return await r.UA.deleteDocument(r.Vb,r.sh.events,e),!0}catch(e){return console.error("Error deleting event:",e),!1}},async search(e,t,a){try{let i=[s.AE.search("name",e)];return t&&i.push(s.AE.equal("category",t)),a&&i.push(s.AE.equal("status",a)),(await r.UA.listDocuments(r.Vb,r.sh.events,i)).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),i.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()))}},async getUpcoming(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[s.AE.equal("status","upcoming")])).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),i.filter(e=>"upcoming"===e.status)}},async getFeatured(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[s.AE.equal("featured",!0)])).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),i.filter(e=>e.featured)}},async getByCategory(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[s.AE.equal("category",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),i.filter(t=>t.category===e)}}}},71821:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},41137:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},77636:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},70003:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},83855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},98091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10524:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>e});var s=a(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Harry\Documents\Ticket Booking Platform cursor\Ticket Booking Platform cursor\app\admin\events\page.tsx`)).default;r()}catch(e){r(e)}},1)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[267,998,312,434,369,750],()=>a(20064));module.exports=r})();