(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9424],{1406:(e,t,s)=>{Promise.resolve().then(s.bind(s,2607))},2607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(7437),a=s(2265),n=s(495),i=s(6013),l=s(3102),o=s(7135),c=s(6294),d=s(4693),u=s(7164),m=s(2022),h=s(5862),g=s(933),f=s(1077),x=s(4817),p=s(1620),y=s(5733),v=s(7529),w=s(883),b=s(9738),j=s(7440),N=s(6031),_=s(4358),k=s(857);let A=[{$id:"1",name:"Tech Conference 2024"},{$id:"2",name:"Music Festival 2024"},{$id:"3",name:"Business Summit 2024"},{$id:"4",name:"Art Exhibition 2024"}];function C(){let{user:e}=(0,k.a)(),[t,s]=(0,a.useState)([]),[C,Z]=(0,a.useState)([]),[D,S]=(0,a.useState)(!0),[E,P]=(0,a.useState)(""),[U,V]=(0,a.useState)("all"),[R,T]=(0,a.useState)("all"),[L,$]=(0,a.useState)("all"),[q,z]=(0,a.useState)(null),[B,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{S(!0);let[e,t]=await Promise.all([N.Z.getAll(),_.v.getAll()]);s(e),Z(t)}catch(e){console.error("Error loading data:",e)}finally{S(!1)}})()},[]);let O=t.filter(e=>{let t=e.customer_name.toLowerCase().includes(E.toLowerCase())||e.customer_email.toLowerCase().includes(E.toLowerCase())||e.event_name.toLowerCase().includes(E.toLowerCase())||e.transaction_id.toLowerCase().includes(E.toLowerCase()),s="all"===U||e.booking_status===U,r="all"===R||e.payment_status===R,a="all"===L||e.event_id===L;return t&&s&&r&&a}),F=async e=>{if(confirm("Are you sure you want to delete this booking?"))try{await N.Z.delete(e)&&s(t.filter(t=>t.$id!==e))}catch(e){console.error("Error deleting booking:",e)}},I=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},J=t.filter(e=>"completed"===e.payment_status).reduce((e,t)=>e+t.amount,0),Q=t.filter(e=>"confirmed"===e.booking_status).length,H=t.filter(e=>"pending"===e.booking_status).length;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Bookings Management"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage and track all event bookings"})]}),(0,r.jsxs)(n.z,{variant:"outline",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Bookings"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time bookings"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Confirmed"}),(0,r.jsx)(h.Z,{className:"h-4 w-4 text-green-600"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Q}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Confirmed bookings"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Pending"}),(0,r.jsx)(g.Z,{className:"h-4 w-4 text-yellow-600"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:H}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pending bookings"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Revenue"}),(0,r.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(0,j.T4)(J)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"From completed payments"})]})]})]}),(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(l.I,{placeholder:"Search bookings...",value:E,onChange:e=>P(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(c.Ph,{value:L,onValueChange:$,children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"Event"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All Events"}),A.map(e=>(0,r.jsx)(c.Ql,{value:e.$id,children:e.name},e.$id))]})]}),(0,r.jsxs)(c.Ph,{value:U,onValueChange:V,children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"Status"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All Status"}),(0,r.jsx)(c.Ql,{value:"confirmed",children:"Confirmed"}),(0,r.jsx)(c.Ql,{value:"pending",children:"Pending"}),(0,r.jsx)(c.Ql,{value:"cancelled",children:"Cancelled"}),(0,r.jsx)(c.Ql,{value:"refunded",children:"Refunded"})]})]}),(0,r.jsxs)(c.Ph,{value:R,onValueChange:T,children:[(0,r.jsx)(c.i4,{children:(0,r.jsx)(c.ki,{placeholder:"Payment"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All Payments"}),(0,r.jsx)(c.Ql,{value:"completed",children:"Completed"}),(0,r.jsx)(c.Ql,{value:"pending",children:"Pending"}),(0,r.jsx)(c.Ql,{value:"failed",children:"Failed"})]})]}),(0,r.jsxs)(n.z,{variant:"outline",className:"w-full",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"All Bookings"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:O.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("p",{className:"font-medium",children:e.customer_name}),(0,r.jsx)(d.C,{className:I(e.booking_status),children:e.booking_status}),(0,r.jsx)(d.C,{className:Y(e.payment_status),children:e.payment_status})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.event_name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.customer_email})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-medium",children:(0,j.T4)(e.amount)}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,j.p6)(e.created_at||"")})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>{z(e),M(!0)},children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",children:(0,r.jsx)(v.Z,{className:"h-4 w-4"})}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>F(e.$id),children:(0,r.jsx)(w.Z,{className:"h-4 w-4"})})]})]})]},e.$id))})})]}),B&&q&&(0,r.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(i.ll,{children:"Booking Details"}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>M(!1),children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})})]})}),(0,r.jsxs)(i.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Customer Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Name"}),(0,r.jsx)("p",{className:"font-medium",children:q.customer_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Email"}),(0,r.jsx)("p",{className:"font-medium",children:q.customer_email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Event"}),(0,r.jsx)("p",{className:"font-medium",children:q.event_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Event Date"}),(0,r.jsx)("p",{className:"font-medium",children:(0,j.p6)(q.event_date)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Location"}),(0,r.jsx)("p",{className:"font-medium",children:q.event_location})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Ticket Type"}),(0,r.jsx)("p",{className:"font-medium",children:q.ticket_type})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Booking Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Booking ID"}),(0,r.jsx)("p",{className:"font-medium",children:q.$id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Transaction ID"}),(0,r.jsx)("p",{className:"font-medium font-mono",children:q.transaction_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Booking Date"}),(0,r.jsx)("p",{className:"font-medium",children:(0,j.p6)(q.booking_date)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Created"}),(0,r.jsx)("p",{className:"font-medium",children:(0,j.p6)(q.created_at||"")})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Payment Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Amount"}),(0,r.jsx)("p",{className:"font-medium text-lg",children:(0,j.T4)(q.amount)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Currency"}),(0,r.jsx)("p",{className:"font-medium",children:q.currency})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Payment Method"}),(0,r.jsx)("p",{className:"font-medium",children:q.payment_method})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Payment Status"}),(0,r.jsx)(d.C,{className:Y(q.payment_status),children:q.payment_status})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm text-muted-foreground",children:"Booking Status"}),(0,r.jsx)(d.C,{className:I(q.booking_status),children:q.booking_status})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,r.jsx)(n.z,{variant:"outline",onClick:()=>M(!1),children:"Close"}),(0,r.jsxs)(n.z,{children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Edit Booking"]})]})]})]})})]})}},4693:(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var r=s(7437);s(2265);var a=s(3027),n=s(7440);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},495:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(7437),a=s(2265),n=s(1538),i=s(3027),l=s(7440);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...d})});c.displayName="Button"},6013:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>o});var r=s(7437),a=s(2265),n=s(7440);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},3102:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(7437),a=s(2265),n=s(7440);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},7135:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var r=s(7437),a=s(2265),n=s(8364),i=s(3027),l=s(7440);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Root,{ref:t,className:(0,l.cn)(o(),s),...a})});c.displayName=n.Root.displayName},6294:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>f,Ph:()=>d,Ql:()=>x,i4:()=>m,ki:()=>u});var r=s(7437),a=s(2265),n=s(8297),i=s(2421),l=s(4392),o=s(2468),c=s(7440);let d=n.fC;n.ZA;let u=n.B4,m=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[a,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.xz.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=n.u_.displayName;let g=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});g.displayName=n.$G.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(h,{}),(0,r.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(g,{})]})})});f.displayName=n.VY.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=n.__.displayName;let x=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:a})]})});x.displayName=n.ck.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=n.Z0.displayName},857:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>d,a:()=>u});var r=s(7437),a=s(2265),n=s(4904),i=s(8999);let l=new i.KU().setEndpoint("https://nyc.cloud.appwrite.io/v1").setProject("688d133a00190cb1d93c"),o=new i.mR(l),c=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),m=async()=>{try{let e=await o.get();console.log("Found existing session for:",e.email),await h(e.$id)}catch(e){console.log("No existing session found"),l(null)}finally{u(!1)}};(0,a.useEffect)(()=>((async()=>{try{await g(),await m()}catch(e){console.error("Error initializing app:",e),u(!1)}})(),()=>{}),[]);let h=async e=>{try{let t=await n.UA.listDocuments(n.Vb,n.sh.users,[i.AE.equal("$id",e)]);if(t.documents.length>0)l(t.documents[0]);else{let t=await o.get(),s={email:t.email,name:t.name,role:"user",status:"active",profile:JSON.stringify({})},r=await n.UA.createDocument(n.Vb,n.sh.users,e,s);l(r)}}catch(e){console.error("Error loading user profile:",e),l(null)}},g=async()=>{try{let e=await n.UA.listDocuments(n.Vb,n.sh.users,[]);if(0===e.documents.length){console.log("No users found, creating default admin...");try{let e=await o.create(i.ID.unique(),"admin@eventbooker.com","Admin@123","System Administrator");console.log("✅ Admin user created in Appwrite auth:",e);let t=e.$id,s={email:"admin@eventbooker.com",name:"System Administrator",role:"admin",status:"active",profile:JSON.stringify({isAdmin:!0,permissions:["events","bookings","users","analytics","settings"],createdBy:"system",isDefaultAdmin:!0})},r=await n.UA.createDocument(n.Vb,n.sh.users,t,s);return console.log("✅ Default admin user created in database:",r),r}catch(e){console.error("Error creating admin in Appwrite auth:",e);try{let e=i.ID.unique(),t={email:"admin@eventbooker.com",name:"System Administrator",role:"admin",status:"active",profile:JSON.stringify({isAdmin:!0,permissions:["events","bookings","users","analytics","settings"],createdBy:"system",isDefaultAdmin:!0})},s=await n.UA.createDocument(n.Vb,n.sh.users,e,t);return console.log("✅ Default admin profile created:",s),s}catch(e){console.error("Error creating admin profile:",e)}}}}catch(e){console.error("Error creating default admin:",e)}},f=async(e,t)=>{try{try{await o.deleteSession("current")}catch(e){console.log("No active session to delete")}await o.createEmailSession(e,t);let s=await o.get();return await h(s.$id),{success:!0,message:"Login successful"}}catch(e){return console.error("Login error:",e),{success:!1,message:e.message||"Login failed"}}},x=async()=>{try{await o.deleteSession("current"),l(null),u(!1)}catch(e){console.error("Logout error:",e),l(null),u(!1)}},p=async(e,t,s)=>{try{let r=await o.create(i.ID.unique(),t,s,e);try{await o.updateVerification(r.$id,r.$id)}catch(e){console.log("Auto-verification failed (this is normal in production):",e)}await h(r.$id);try{await o.createEmailSession(t,s);let e=await o.get();await h(e.$id)}catch(e){console.log("Auto-login after registration failed:",e)}return{success:!0,message:"Registration successful! Please check your email to verify your account."}}catch(e){return console.error("Registration error:",e),{success:!1,message:e.message||"Registration failed"}}},y=async e=>{if(!s)return{success:!1,message:"User not authenticated"};try{let t={name:e.name,email:e.email,role:e.role,status:e.status};e.profile&&(t.profile="string"==typeof e.profile?e.profile:JSON.stringify(e.profile));let r=await n.UA.updateDocument(n.Vb,n.sh.users,s.$id,t);return l(r),{success:!0,message:"Profile updated successfully"}}catch(e){return console.error("Profile update error:",e),{success:!1,message:e.message||"Failed to update profile"}}},v=async(e,t)=>{try{return await o.updatePassword(t),{success:!0,message:"Password changed successfully"}}catch(e){return console.error("Password change error:",e),{success:!1,message:e.message||"Failed to change password"}}},w=async e=>{try{return await o.createRecovery(e,"http://localhost:3000/reset-password"),{success:!0,message:"Password reset email sent"}}catch(e){return console.error("Forgot password error:",e),{success:!1,message:e.message||"Failed to send reset email"}}},b=async(e,t,s)=>{try{return await o.updateRecovery(e,t,s,s),{success:!0,message:"Password reset successfully"}}catch(e){return console.error("Reset password error:",e),{success:!1,message:e.message||"Failed to reset password"}}},j=async()=>{try{let e=await o.get();await h(e.$id)}catch(e){console.error("Error refreshing user:",e),l(null)}},N={user:s,loading:d,isAuthenticated:!!s,isAdmin:(null==s?void 0:s.role)==="admin"||(null==s?void 0:s.role)==="super_admin",isSuperAdmin:(null==s?void 0:s.role)==="super_admin",login:f,logout:x,register:p,loadUserProfile:h,updateProfile:y,changePassword:v,forgotPassword:w,resetPassword:b,refreshUser:j,parseProfile:e=>{try{return JSON.parse(e)}catch(e){return console.error("Failed to parse profile string:",e),null}}};return(0,r.jsx)(c.Provider,{value:N,children:t})}let u=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6031:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(4904),a=s(8999);let n=[{$id:"1",user_id:"user1",event_id:"1",event_name:"Tech Conference 2024",event_date:"2024-02-15T10:00:00Z",event_location:"Convention Center, New York",ticket_type:"Regular",quantity:1,amount:299,currency:"USD",payment_method:"PayU",payment_status:"completed",transaction_id:"PAYU_MONEY_1234567",booking_status:"confirmed",customer_name:"John Doe",customer_email:"john.doe@example.com",booking_date:"2024-01-15T10:00:00Z",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{$id:"2",user_id:"user2",event_id:"2",event_name:"Music Festival 2024",event_date:"2024-03-20T18:00:00Z",event_location:"Central Park, Los Angeles",ticket_type:"VIP",quantity:2,amount:398,currency:"USD",payment_method:"PayU",payment_status:"completed",transaction_id:"PAYU_MONEY_7654321",booking_status:"confirmed",customer_name:"Jane Smith",customer_email:"jane.smith@example.com",booking_date:"2024-01-14T14:30:00Z",created_at:"2024-01-14T14:30:00Z",updated_at:"2024-01-14T14:30:00Z"}],i={async getAll(){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings)).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),n}},async getById(e){try{return await r.UA.getDocument(r.Vb,r.sh.bookings,e)}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.find(t=>t.$id===e)||null}},async create(e){try{return await r.UA.createDocument(r.Vb,r.sh.bookings,a.ID.unique(),e)}catch(e){return console.error("Error creating booking:",e),null}},async update(e,t){try{return await r.UA.updateDocument(r.Vb,r.sh.bookings,e,t)}catch(e){return console.error("Error updating booking:",e),null}},async delete(e){try{return await r.UA.deleteDocument(r.Vb,r.sh.bookings,e),!0}catch(e){return console.error("Error deleting booking:",e),!1}},async getByEvent(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.equal("event_id",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.event_id===e)}},async getByUser(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.equal("user_id",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.user_id===e)}},async getByStatus(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.equal("booking_status",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.booking_status===e)}},async getByPaymentStatus(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.equal("payment_status",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.payment_status===e)}},async search(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.search("customer_name",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.customer_name.toLowerCase().includes(e.toLowerCase())||t.customer_email.toLowerCase().includes(e.toLowerCase())||t.event_name.toLowerCase().includes(e.toLowerCase()))}},async getTotalRevenue(){try{return(await r.UA.listDocuments(r.Vb,r.sh.bookings,[a.AE.equal("payment_status","completed")])).documents.reduce((e,t)=>e+t.amount,0)}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),n.filter(e=>"completed"===e.payment_status).reduce((e,t)=>e+t.amount,0)}},async getStatistics(){try{let e=await this.getAll(),t=e.filter(e=>"confirmed"===e.booking_status),s=e.filter(e=>"pending"===e.booking_status),r=await this.getTotalRevenue();return{total:e.length,confirmed:t.length,pending:s.length,revenue:r}}catch(e){return console.error("Error getting booking statistics:",e),{total:0,confirmed:0,pending:0,revenue:0}}}}},4358:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(4904),a=s(8999);let n=[{$id:"1",name:"Tech Conference 2024",description:"Join us for the biggest tech conference of the year featuring industry leaders and cutting-edge innovations.",date:"2024-03-15",time:"09:00",venue:"Convention Center",category:"Technology",price:299,ticket_count:500,available_tickets:150,status:"upcoming",image_url:"/images/tech-conference.jpg",created_by:"admin",tags:["technology","conference","innovation"],featured:!0,location:JSON.stringify({address:"123 Tech Street",city:"San Francisco",state:"CA",country:"USA",coordinates:{latitude:37.7749,longitude:-122.4194}}),created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{$id:"2",name:"Summer Music Festival",description:"A three-day music festival featuring top artists from around the world.",date:"2024-07-20",time:"16:00",venue:"Central Park",category:"Music",price:199,ticket_count:1e3,available_tickets:200,status:"upcoming",image_url:"/images/music-festival.jpg",created_by:"admin",tags:["music","festival","summer"],featured:!0,location:JSON.stringify({address:"Central Park",city:"New York",state:"NY",country:"USA",coordinates:{latitude:40.7829,longitude:-73.9654}}),created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}],i={async getAll(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events)).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),n}},async getById(e){try{return await r.UA.getDocument(r.Vb,r.sh.events,e)}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.find(t=>t.$id===e)||null}},async create(e){try{return await r.UA.createDocument(r.Vb,r.sh.events,a.ID.unique(),e)}catch(e){return console.error("Error creating event:",e),null}},async update(e,t){try{return await r.UA.updateDocument(r.Vb,r.sh.events,e,t)}catch(e){return console.error("Error updating event:",e),null}},async delete(e){try{return await r.UA.deleteDocument(r.Vb,r.sh.events,e),!0}catch(e){return console.error("Error deleting event:",e),!1}},async search(e,t,s){try{let n=[a.AE.search("name",e)];return t&&n.push(a.AE.equal("category",t)),s&&n.push(a.AE.equal("status",s)),(await r.UA.listDocuments(r.Vb,r.sh.events,n)).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()))}},async getUpcoming(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[a.AE.equal("status","upcoming")])).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),n.filter(e=>"upcoming"===e.status)}},async getFeatured(){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[a.AE.equal("featured",!0)])).documents}catch(e){return console.warn("Appwrite not accessible, using sample data:",e),n.filter(e=>e.featured)}},async getByCategory(e){try{return(await r.UA.listDocuments(r.Vb,r.sh.events,[a.AE.equal("category",e)])).documents}catch(t){return console.warn("Appwrite not accessible, using sample data:",t),n.filter(t=>t.category===e)}}}},4904:(e,t,s)=>{"use strict";s.d(t,{JT:()=>i,UA:()=>n,Vb:()=>l,sh:()=>o});var r=s(8999);let a=new r.KU().setEndpoint("https://nyc.cloud.appwrite.io/v1").setProject("688d133a00190cb1d93c"),n=new r.Lg(a),i=new r.mR(a);new r.Ke(a);let l="eventbooker_db",o={events:"events",bookings:"bookings",users:"users",settings:"settings",analytics:"analytics"}},7440:(e,t,s)=>{"use strict";s.d(t,{Dm:()=>d,Ld:()=>c,T4:()=>i,_w:()=>g,aY:()=>o,cn:()=>n,p6:()=>l});var r=s(4839),a=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function l(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function o(e,t){let s=new Date("".concat(e,"T").concat(t)),r=new Date,a=new Date(s.getTime()+108e5);return r>=s&&r<=a}function c(e,t){let s=new Date("".concat(e,"T").concat(t));return new Date<s}let d=e=>{if(!e)return"";try{let t=JSON.parse(e);return(null==t?void 0:t.avatar)||""}catch(e){return console.error("Failed to parse profile for avatar:",e),""}},u=()=>window.innerWidth<768,m=()=>{let e=window.navigator.userAgent;return/iPad|iPhone|iPod/.test(e)&&/Safari/.test(e)&&!/Chrome/.test(e)},h=()=>{let e=window.navigator.userAgent;return/Android/.test(e)&&/Chrome/.test(e)},g=()=>{console.log("Mobile Debug Info:",{userAgent:window.navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight,devicePixelRatio:window.devicePixelRatio},isMobile:u(),isMobileSafari:m(),isMobileChrome:h()})}},5862:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1077:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7164:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},5733:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1620:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7529:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4817:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},883:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2022:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9738:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1066).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8364:(e,t,s)=>{"use strict";s.d(t,{Root:()=>l});var r=s(2265),a=s(5171),n=s(7437),i=r.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},e=>{var t=t=>e(e.s=t);e.O(0,[9673,8474,2432,6268,7130,6215,1744],()=>t(1406)),_N_E=e.O()}]);